<!doctype html>
<html lang="en">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="icon" type="image/svg+xml" href="//localhost:1313/svg/icon.svg">
  <script src="//localhost:1313/js/loader.js"></script>
  <meta name="generator" content="Hugo 0.123.1">
  <link rel="stylesheet" href="//localhost:1313/css/colors.css"><link rel="stylesheet" href="//localhost:1313/css/styles.css">
  
  
  <title>Making tex to html CV translator | llesha</title>
  <script type="module" src="//localhost:1313/js/interactive.js"></script>
</head>

<body>
  <div id="nav-border" class="container">
  <nav id="nav" class="nav justify-content-center">
    <div style="text-align: center; font-size: larger;">
      
      
      <a class="nav-link" href="/">Home</a>
      
      
      <a class="nav-link" href="/projects/">Projects</a>
      
      
      <a class="nav-link" href="/tags/">Tags</a>
      
    </div>
    <button id="change-theme-button">dark</button>
    <div style="justify-content: center;">
      <a href="https://github.com/llesha">GitHub</a>
      <a href="https://stackoverflow.com/users/19933941/llesha">StackOverflow</a>
      <a href="https://www.linkedin.com/in/llesha">LinkedIn</a>
    </div>
  </nav>
</div>
  <main id="main">
    

<h1>Making tex to html CV translator</h1>




<i data-feather="calendar"></i> <time datetime="2023-07-27">27 July 2023</time>



<br><br>
<h1 id="motivation">Motivation</h1>
<p>For about a year, I had CV made with <a href="https://www.latex-project.org/">LaTeX</a> in Overleaf (online
LaTeX editor). But I found it cumbersome to import new versions to Google Drive when CV was
updated. Therefore, I decided to translate tex cv to html.</p>
<h1 id="solutions">Solutions</h1>
<p>There are two ways to transform LaTeX to html: either transform resulting pdf file, or the <code>.tex</code>
sources. I tried the first approach, and was unsatisfied with the results: all formatting was
removed, the result was plain text with some bold titles. Because of it I chose the second option
with translating LaTeX to html. <a href="https://latex.js.org/">Latex.js</a> is a library made specifically
for this purpose.</p>
<p>Unfortunately, the capabilities of Latex.js are limiting, so I had to recreate my CV with the
minimal LaTeX supported by Latex.js<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>. I hope, it looks similar.
<a href="https://www.overleaf.com/read/xdgqgnyvrwkt">This is my old CV</a>,
and <a href="https://www.overleaf.com/read/ksdqgmdvdfcx">this is the new one</a>.</p>
<p>Here is a script for translation:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="cp">#!/usr/bin/env bash
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="c1"># declare constants</span>
</span></span><span class="line"><span class="cl"><span class="nv">cv_path</span><span class="o">=</span>../content/cv/main.tex
</span></span><span class="line"><span class="cl"><span class="nv">cv_html_path</span><span class="o">=</span>../layouts/_default/cv.html
</span></span><span class="line"><span class="cl"><span class="nv">cv</span><span class="o">=</span><span class="k">$(</span>&lt;<span class="nv">$cv_path</span><span class="k">)</span>
</span></span><span class="line"><span class="cl"><span class="nv">temp</span><span class="o">=</span>../scripts/output.txt
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># comment tex instructions that are not working in Latex.js library</span>
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> <span class="nv">$cv</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  sed -e <span class="s1">&#39;s/\\usepackage{titlesec}/%\\usepackage{titlesec}/&#39;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -e <span class="s1">&#39;s/\\pagenumbering{gobble}/%\\pagenumbering{gobble}/&#39;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -e <span class="s1">&#39;s/\\titlespacing/%\\titlespacing/&#39;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -e <span class="s1">&#39;s/\\titleformat/%\\titleformat/&#39;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -e <span class="s1">&#39;s/\\setlength{\\voffset}{-20pt}/%\\setlength{\\voffset}{-20pt}/&#39;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -e <span class="s1">&#39;s/\\makebox\[[a-zA-Z0-9]*\][{}a-z\\A-Z0-9\.]*/%hr%/g&#39;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>   &gt; <span class="nv">$temp</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># create html from tex for cv</span>
</span></span><span class="line"><span class="cl">npx latex.js <span class="nv">$temp</span> -p &gt; <span class="nv">$cv_html_path</span>
</span></span><span class="line"><span class="cl">rm <span class="nv">$temp</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> <span class="k">$(</span>&lt;<span class="nv">$cv_html_path</span><span class="k">)</span> <span class="p">|</span> sed <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -e <span class="s1">&#39;s/   //g&#39;</span> <span class="se">\ </span><span class="c1"># remove generatedw whitepace characters</span>
</span></span><span class="line"><span class="cl">  -e <span class="s1">&#39;s/­//g&#39;</span> <span class="se">\ </span><span class="c1"># here invisible char is removed</span>
</span></span><span class="line"><span class="cl">  -e <span class="s1">&#39;s/&lt;\/h2&gt;/&lt;\/h2&gt;&lt;hr&gt;/g&#39;</span> <span class="se">\ </span><span class="c1"># add horizontal line separators</span>
</span></span><span class="line"><span class="cl">  -e <span class="s1">&#39;s/&lt;html style=&#34;--size: [0-9\.]*px;/&lt;html style=&#34;--size: 16px;/g&#39;</span> <span class="se">\ </span><span class="c1"># change font size to 16px</span>
</span></span><span class="line"><span class="cl">  -e <span class="s1">&#39;s/&lt;title&gt;untitled&lt;\/title&gt;/&lt;title&gt;Aleksey Kononov CV&lt;\/title&gt;/g&#39;</span> <span class="se">\ </span><span class="c1"># add title</span>
</span></span><span class="line"><span class="cl">  -e <span class="s1">&#39;s/&lt;span style=&#34;margin-right:170.079px&#34;&gt;//&#39;</span> <span class="se">\ </span><span class="c1"># remove whitespace under name</span>
</span></span><span class="line"><span class="cl">  -e <span class="s1">&#39;s/--marginparwidth: [0-9\.]*%;/--marginparwidth: 60%;/&#39;</span> <span class="se">\ </span><span class="c1"># change date margin width</span>
</span></span><span class="line"><span class="cl">  -e <span class="s1">&#39;s/\(--[A-Za-z]*: [0-9]*\)\.[0-9]*/\1/g&#39;</span> <span class="se">\ </span><span class="c1"># remove all floating point values for zoom to work</span>
</span></span><span class="line"><span class="cl">  &gt; <span class="nv">$cv_html_path</span>
</span></span></code></pre></div><p>I used a lot of string replacements by utilizing
<a href="https://www.gnu.org/software/sed/manual/sed.html">sed</a> command. The most frequent use of
it consists of command with three elements:<code>'s/&lt;STRING&gt;/&lt;REPLACEMENT&gt;/&lt;FLAG&gt;/'</code>, where <code>&lt;FLAG&gt;</code>
is <code>g</code> to change all the occurrences or empty to change only the first one. To make multiple
replacements, chain them with argument <code>-e</code>.</p>
<h1 id="results">Results</h1>
<p>After that, I wanted to check if I really improved my time. Here are the steps needed to get link
to cv with tex-html translator or by Google Drive sharing:</p>
<table>
  <thead>
    <tr>
      <th>Update CV on site</th>
      <th>Update CV on Drive</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td colspan="2" style="text-align: center">Open Overleaf</td>
    </tr>
    <tr>
      <td colspan="2" style="text-align: center">Edit file in Overleaf</td>
    </tr>
    <tr>
      <td>Open IDE</td>
      <td>Delete last CV file from Downloads</td>
    </tr>
    <tr>
      <td>Copy <code>main.tex</code> from Overleaf to site</td>
      <td>Load file from Overleaf</td>
    </tr>
    <tr>
      <td>Run script for CV transpiling</td>
      <td>Open Google Drive</td>
    </tr>
    <tr>
      <td>Push changes to site</td>
      <td>Upload file to Drive</td>
    </tr>
  </tbody>
</table>
<p>Well, it doesn&rsquo;t seem that new solution is any better that the old one. But often I forgot to
delete previous CV from Downloads, therefore needed to do some additional steps.
Additionally, now I have a short and readable <a href="https://llesha.github.io/cv">CV link</a>!</p>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>On this step I could completely dump the idea and recreate my CV purely using html. I&rsquo;m sure
that there are great tools for exporting html to pdf. But I thought that having a CV in a .tex
format is more respectable or something.&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>



  </main>
</body>

</html>